cmake_minimum_required(VERSION 3.4)
project(Stronk)

# Change -DHAVE_LIBUUID to either one of these;
# -DHAVE_WINDOWS for Windows
# -DHAVE_LIBUUID For libuuid
# -DHAVE_APPLE for Apple.
set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -std=c11 -pedantic -ggdb -fdiagnostics-color -ftrapv -flto -pipe -O3 -march=native -Wall -Wextra -Wno-unused-function -DUSE_GCC_UNION_CAST -DHAVE_LIBUUID -DMCPR_DO_LOGGING")

include_directories(
    lib/
    src/
)

file(GLOB_RECURSE SOURCES src/*)
file(GLOB_RECURSE HEADERS src/*.h)
file(GLOB_RECURSE LIBRARY_SOURCES lib/*)
add_executable(Stronk ${SOURCES} ${LIBRARY_SOURCES})

target_link_libraries(Stronk libuuid.dll.a)     # LGPL license
target_link_libraries(Stronk libpthread.a)      # LGPL/Cygwin license
target_link_libraries(Stronk libz.a)            # zlib license
target_link_libraries(Stronk libssl.a)          # OpenSSL license
target_link_libraries(Stronk libcurl.dll.a)     # MIT license
